var binance=function(){"use strict";function bt(e){return e}const ye=!1,ne={equals:(e,t)=>e===t};let ve=le;const L=1,j=2;var K=null;let Z=null,Ee=null,y=null,E=null,_=null,D=0;function oe(e,t){t=t?Object.assign({},ne,t):ne;const s={value:e,observers:null,observerSlots:null,comparator:t.equals||void 0},r=n=>(typeof n=="function"&&(n=n(s.value)),ae(s,n));return[ke.bind(s),r]}function Se(e){if(y===null)return e();const t=y;y=null;try{return e()}finally{y=t}}function ke(){if(this.sources&&this.state)if(this.state===L)ie(this);else{const e=E;E=null,W(()=>Y(this)),E=e}if(y){const e=this.observers?this.observers.length:0;y.sources?(y.sources.push(this),y.sourceSlots.push(e)):(y.sources=[this],y.sourceSlots=[e]),this.observers?(this.observers.push(y),this.observerSlots.push(y.sources.length-1)):(this.observers=[y],this.observerSlots=[y.sources.length-1])}return this.value}function ae(e,t,s){let r=e.value;return(!e.comparator||!e.comparator(r,t))&&(e.value=t,e.observers&&e.observers.length&&W(()=>{for(let n=0;n<e.observers.length;n+=1){const o=e.observers[n],a=Z&&Z.running;a&&Z.disposed.has(o),(a?!o.tState:!o.state)&&(o.pure?E.push(o):_.push(o),o.observers&&ue(o)),a||(o.state=L)}if(E.length>1e6)throw E=[],new Error})),t}function ie(e){if(!e.fn)return;X(e);const t=D;Ce(e,e.value,t)}function Ce(e,t,s){let r;const n=K,o=y;y=K=e;try{r=e.fn(t)}catch(a){return e.pure&&(e.state=L,e.owned&&e.owned.forEach(X),e.owned=null),e.updatedAt=s+1,ge(a)}finally{y=o,K=n}(!e.updatedAt||e.updatedAt<=s)&&(e.updatedAt!=null&&"observers"in e?ae(e,r):e.value=r,e.updatedAt=s)}function ce(e){if(e.state===0)return;if(e.state===j)return Y(e);if(e.suspense&&Se(e.suspense.inFallback))return e.suspense.effects.push(e);const t=[e];for(;(e=e.owner)&&(!e.updatedAt||e.updatedAt<D);)e.state&&t.push(e);for(let s=t.length-1;s>=0;s--)if(e=t[s],e.state===L)ie(e);else if(e.state===j){const r=E;E=null,W(()=>Y(e,t[0])),E=r}}function W(e,t){if(E)return e();let s=!1;E=[],_?s=!0:_=[],D++;try{const r=e();return Te(s),r}catch(r){s||(_=null),E=null,ge(r)}}function Te(e){if(E&&(le(E),E=null),e)return;const t=_;_=null,t.length&&W(()=>ve(t))}function le(e){for(let t=0;t<e.length;t++)ce(e[t])}function Y(e,t){e.state=0;for(let s=0;s<e.sources.length;s+=1){const r=e.sources[s];if(r.sources){const n=r.state;n===L?r!==t&&(!r.updatedAt||r.updatedAt<D)&&ce(r):n===j&&Y(r,t)}}}function ue(e){for(let t=0;t<e.observers.length;t+=1){const s=e.observers[t];s.state||(s.state=j,s.pure?E.push(s):_.push(s),s.observers&&ue(s))}}function X(e){let t;if(e.sources)for(;e.sources.length;){const s=e.sources.pop(),r=e.sourceSlots.pop(),n=s.observers;if(n&&n.length){const o=n.pop(),a=s.observerSlots.pop();r<n.length&&(o.sourceSlots[a]=r,n[r]=o,s.observerSlots[r]=a)}}if(e.tOwned){for(t=e.tOwned.length-1;t>=0;t--)X(e.tOwned[t]);delete e.tOwned}if(e.owned){for(t=e.owned.length-1;t>=0;t--)X(e.owned[t]);e.owned=null}if(e.cleanups){for(t=e.cleanups.length-1;t>=0;t--)e.cleanups[t]();e.cleanups=null}e.state=0}function Pe(e){return e instanceof Error?e:new Error(typeof e=="string"?e:"Unknown error",{cause:e})}function ge(e,t=K){throw Pe(e)}const Me="0.2.1",Ie=(e,t)=>{const s=document.createElement("div");s.style.cssText="position:fixed;top:8%;left:0;background-color:rgba(0,0,0,.6);padding:2px;color:#fff;font:calc(14px + .5vw) 'Arial',sans-serif;font-weight:bold;text-transform:uppercase;letter-spacing:1px;z-index:9999;transition:all 1s;animation:slideIn 1s forwards",s.innerHTML=`<p>${e}. Retrying in..<span id="countdown">${t}</span></p>`,document.body.appendChild(s),(()=>{const o=document.getElementById("countdown");if(!o)return;let a=t;const u=setInterval(()=>{a--,o.textContent=a,a<=0&&clearInterval(u)},1e3)})();const n=document.createElement("style");n.innerHTML="@keyframes slideIn{0%{transform:translateX(-100%)}100%{transform:translateX(0)}}@keyframes slideOut{0%{transform:translateX(0)}100%{transform:translateX(100%)}}",document.head.appendChild(n),setTimeout(()=>{s.style.animation="slideOut 1s forwards",setTimeout(()=>{document.body.removeChild(s)},1e3)},t*1e3)},q=e=>document.querySelector(e),me=e=>document.querySelectorAll(e);function de(){return q(".task-answers")!==null}function fe(){return me(".task-image .image").length===9}function Ae(){return q(".bounding-box-example")!==null}function Re(){return q(".challenge-header")!==null&&q(".bounding-box-example")===null&&q(".task-grid")==null}function _e(){const e=document.body.getBoundingClientRect();return e?.width===0||e?.height===0?!1:document.querySelector("div.check")!==null}function F(e){return new Promise(t=>setTimeout(t,e))}function qe(e,t){return Math.floor(Math.random()*(t-e)+e)}function Fe(){try{const e=document.querySelector("div.check");return e&&e.style.display==="block"}catch(e){return console.error(e),!1}}async function $e(e){const t=await(await fetch(e,{headers:{"if-none-match":'"CFDAD5AA0CE4A3068FF1CABAC59E4D9D"'},host:"https://domain.com"})).blob();return await Be(t)}async function Be(e){return new Promise(t=>{const s=new FileReader;s.readAsDataURL(e),s.addEventListener("loadend",()=>{const r=s.result.replace(/^data:image\/(png|jpeg);base64,/,"");t(r)}),s.addEventListener("error",()=>{logs&&console.log("❌ Failed to convert url to base64")})})}async function he(e){try{const t=await fetch(e);if(!t.ok)throw new Error(`Failed to fetch the URL: ${e}`);const s=await t.blob();return new Promise((r,n)=>{const o=new FileReader;o.readAsDataURL(s),o.addEventListener("loadend",()=>{r(o.result.replace(/^data:image\/(png|jpeg);base64,/,""))}),o.addEventListener("error",()=>{console.error("❌ Failed to read blob as base64"),n("Failed to read blob")})})}catch(t){return console.error(`❌ Failed to convert URL to base64: ${e}`,t),null}}function Le(){document.querySelectorAll("iframe").forEach(t=>{t.src=t.src})}async function Oe(){Ae()?(await F(200),document.querySelector(".display-language.button").click(),await F(100),document.querySelector(".language-selector .option:nth-child(23)").click()):fe()?(await F(100),document.querySelector(".language-selector .option:nth-child(23)").click()):de()&&(document.querySelector(".display-language.button").click(),await F(200),document.querySelector(".language-selector .option:nth-child(23)").click(),await F(200))}function Ne(){document.querySelector(".button-submit").click()}async function Ue(){const e=navigator.userAgent;let t,s=e.match(/(opera|chrome|safari|firefox|msie|trident(?=\/))\/?\s*(\d+)/i)||[];return/trident/i.test(s[1])?(t=/\brv[ :]+(\d+)/g.exec(e)||[],`IE ${t[1]||""}`):s[1]==="Chrome"&&(t=e.match(/\b(OPR|Edge)\/(\d+)/),t!=null)?t.slice(1).join(" ").replace("OPR","Opera"):(s=s[2]?[s[1],s[2]]:[navigator.appName,navigator.appVersion,"-?"],(t=e.match(/version\/(\d+)/i))!=null&&s.splice(1,1,t[1]),{version:s,platform:navigator.platform})}function je(e){for(let t=e.length-1;t>0;t--){const s=Math.floor(Math.random()*(t+1));[e[t],e[s]]=[e[s],e[t]]}return e}function Q(e){["mouseover","mousedown","mouseup","click"].forEach(t=>{if(e.fireEvent)e.fireEvent("on"+t);else{const s=document.createEvent("MouseEvents");s.initEvent(t,!0,!1),e.dispatchEvent(s)}})}function ee(e,t,s,r,n,o,a){e.dispatchEvent(new MouseEvent(t,{bubbles:!0,clientX:s,clientY:r,buttons:n,button:o,pressure:a}))}async function Ke(e,t){const s=document.querySelector("canvas");if(e!==void 0)for(const{start:r,end:n}of e)if(Array.isArray(r)&&r.length!==0&&Array.isArray(n)&&n.length!==0){const[o,a]=r,[u,h]=n,l=s.getBoundingClientRect(),g=o+l.left,f=a+l.top,S=u+l.left,p=h+l.top;ee(s,"mousedown",g,f,1,0,1),await new Promise(R=>setTimeout(R,t));const w=S-g,b=p-f,I=Math.sqrt(w**2+b**2),P=Math.round(I/6),O=w/P,J=b/P;for(let R=1;R<=P;R++){const N=g+O*R,i=f+J*R;ee(s,"mousemove",N,i,1,0,1),await new Promise(c=>setTimeout(c,50))}ee(s,"mouseup",S,p,0,0,0)}else $.$(".button-submit").click();else $.$(".button-submit").click()}async function De(e){function t(o,a,u){const h=o.getBoundingClientRect(),l=["mouseover","mousedown","mouseup","click"],g={clientX:a+h.left,clientY:u+h.top,bubbles:!0};for(let f=0;f<l.length;f++){const S=new MouseEvent(l[f],g);o.dispatchEvent(S)}}const s=document.querySelector("canvas");s.addEventListener("mousedown",o=>{const a=s.getBoundingClientRect();o.clientX-a.left,o.clientY-a.top});const[r,n]=e;t(s,r,n),await $.sleep(300)}async function We(e,t){const s=(await chrome.storage.local.get("customEndpoint")).customEndpoint;return t==="custom"?`https://${s}/${e}`:"https://api.captchasonic.com/createTask"}async function Ye(e){for(const t of e){const s=[...document.querySelectorAll(".answer-text")].find(r=>r.outerText===t);Q(s),[...document.querySelectorAll(".answer-example")].some(r=>r.style.backgroundColor==="rgb(116, 116, 116)")||Q(s)}}async function Xe(){const e=document.querySelector("canvas");if(!e)return null;const[t,s]=[e.width,e.height],n=e.getContext("2d",{willReadFrequently:!0}).getImageData(0,0,t,s,{willReadFrequently:!0});if((p=>{const w=p.data;for(let b=0;b<w.length;b+=4){const I=w[b],P=w[b+1],O=w[b+2];if(I!==P||P!==O)return!1}return!0})(n))return null;const a=parseInt(e.style.width,10),u=parseInt(e.style.height,10);if(a<=0||u<=0)return null;const h=Math.min(a/t,u/s),[l,g]=[t*h,s*h],f=document.createElement("canvas");return Object.assign(f,{width:l,height:g}),f.getContext("2d",{willReadFrequently:!0}).drawImage(e,0,0,t,s,0,0,l,g),f.toDataURL("image/jpeg").replace(/^data:image\/(png|jpeg);base64,/,"")}function He(e){return[...document.querySelectorAll(`${e}`)].map(t=>t.style.backgroundImage.replace(/url\("|"\)/g,""))}function Ge(e){return Promise.all(e.map(async(t,s)=>(e[s]=await he(t),e[s])))}async function Ve(e,t,s){const r=e.getBoundingClientRect(),n=r.left+window.scrollX,o=r.top+window.scrollY,a=n+t,u=o+s,h=new MouseEvent("mousedown",{clientX:n,clientY:o,bubbles:!0});e.dispatchEvent(h),await new Promise(p=>setTimeout(p,1e3));const l=20,g=(a-n)/l,f=(u-o)/l;for(let p=1;p<=l;p++){const w=n+g*p,b=o+f*p,I=new MouseEvent("mousemove",{clientX:w,clientY:b,bubbles:!0});e.dispatchEvent(I),await new Promise(P=>setTimeout(P,150))}const S=new MouseEvent("mouseup",{clientX:a,clientY:u,bubbles:!0});e.dispatchEvent(S),await new Promise(p=>setTimeout(p,1e3))}async function ze(e,t,s){try{const n=await(await fetch(e,{method:"POST",headers:s,body:JSON.stringify(t)})).json();if(n.code!==200){const o=n.msg;if(o){if(n.code===1||n.code===10||n.code===18||n.code===110){chrome.runtime.sendMessage({action:o}),stop=!0;return}if(n.code===17||n.code===19||n.code===429){chrome.runtime.sendMessage({action:o}),stop=!0;return}if([4,3,12,13,14,115].includes(n.code))return document.querySelector(".geetest_refresh").click(),null}}return n}catch(r){throw console.error("Error fetching coordinates:",r),r}}async function Je(e){try{const t=await fetch("https://feedback.captchasonic.com/extFeedback",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!t.ok)throw new Error(`HTTP error! Status: ${t.status}`);const s=await t.json();return console.log("Success:",s),s}catch(t){return console.error("Error sending feedback:",t),null}}function Ze(e,t){const s=document.querySelector(e);if(!s){console.warn(`Element not found: ${e}`);return}return new MutationObserver(n=>{n.forEach(o=>{if(o.attributeName==="aria-hidden"){const a=s.getAttribute("aria-hidden")==="true";window.postMessage({type:"ariaHiddenChange",value:a},"*"),typeof t=="function"&&t(a)}})}).observe(s,{attributes:!0,attributeFilter:["aria-hidden"]}),s.getAttribute("aria-hidden")==="true"}function Qe(e,t){const s=`${e}_feedback`;chrome.storage.local.get(`${e}_solved`,r=>{r[`${e}_solved`],chrome.storage.local.get([s],n=>{const o=n[s]||[];if(o.some(u=>u.fail_report===!0)){const u=o.map(g=>g.data),l={type:"feedback",payload:{apiKey:t,data:u,pass:!1}};u.length>0&&chrome.runtime.sendMessage(l,g=>{chrome.storage.local.remove([s,`${e}_solved`,`${e}_feedback`,`${e}_hasRun`],()=>{})})}chrome.storage.local.remove([s,`${e}_solved`],()=>{})})})}function et(e,t){const s=`${e}_feedback`;chrome.storage.local.get(`${e}_solved`,r=>{r[`${e}_solved`],chrome.storage.local.get([s],n=>{const o=n[s]||[];if(o.some(u=>u.pass_report===!0)){const u=o.map(g=>g.data),l={type:"feedback",payload:{apiKey:t,data:u,pass:!0}};u.length>0&&chrome.runtime.sendMessage(l,g=>{chrome.storage.local.remove([s,`${e}_solved`,`${e}_feedback`],()=>{})})}chrome.storage.local.remove([s,`${e}_solved`],()=>{})})})}async function tt(e,t=50,s=.1){return new Promise((r,n)=>{const o=atob(e),a=new Array(o.length);for(let f=0;f<o.length;f++)a[f]=o.charCodeAt(f);const u=new Uint8Array(a),h=new Blob([u],{type:"image/jpeg"}),l=URL.createObjectURL(h),g=new Image;g.onload=()=>{URL.revokeObjectURL(l);const f=document.createElement("canvas");f.width=g.width,f.height=g.height,f.getContext("2d").drawImage(g,0,0);let p=.9,w,b;do w=f.toDataURL("image/jpeg",p),b=w.length*3/4/1024,p-=.05;while(b>t&&p>=s);b>t?n(new Error(`Couldn't compress below ${t}KB. Final size: ${b.toFixed(2)}KB`)):r(w.split(",")[1])},g.onerror=()=>{URL.revokeObjectURL(l),n(new Error("Image load failed (possibly corrupt base64)"))},g.src=l})}async function st(e){return e.replace(/^data:image\/\w+;base64,/,"")}async function rt(e){return new Promise(t=>{chrome.runtime.sendMessage({type:"GET_IMAGE_BASE64",payload:{url:e}},s=>{s?.success?t(s.data):t(null)})})}function nt(){return new Promise((e,t)=>{chrome.runtime.sendMessage({action:"getActiveTabUrl"},s=>{chrome.runtime.lastError?t(chrome.runtime.lastError):e(s.url)})})}const $={version:Me,$:q,$$:me,isMulti:de,isGrid:fe,isBbox:Ae,isBboxDD:Re,isWidget:_e,sleep:F,randTimer:qe,isSolved:Fe,countdownNotif:Ie,getBase64FromUrl:he,refreshIframes:Le,getEn:Oe,skip:Ne,getBrowser:Ue,shuffle:je,fireMouseEvents:Q,getCanvas:De,handleCanvasDD:Ke,getApi:We,clickMatchingElement:Ye,sliceOG:Xe,updateExamples:Ge,getExamples:He,solveGeetestCaptcha:Ve,sendCoordinatesRequest:ze,geeFetchImage:$e,sendFeedback:Je,observeAriaHidden:Ze,handleCaptchaFeedback:Qe,handleCaptchaFeedbackOnSuccess:et,compressPureBase64Image:tt,stripBase64Prefix:st,fetchBase64Image:rt,getActiveTabUrl:nt},ot={matches:["<all_urls>"],allFrames:!0,async main(){let e;try{e=window.top.document.location.href}catch{e=window.location.href}const[t]=oe(e),[s,r]=oe(await chrome.storage.local.get("settings"));if(r(s().settings),window.gridBin)return;window.gridBin=!0;const n=()=>!navigator.onLine||s().APIKEY===void 0||s().APIKEY===""||s().ACTIVE===!1;let o=!1;for(;!n()&&o===!0;){await $.sleep(2e3);const a=document.querySelector(".bs-slide-image"),u=document.querySelector(".bcap-image-table");if(!a&&!u)continue;const h=await at(u,a,t(),s().APIKEY);if(a){let l;try{const g={"Content-Type":"application/json",apikey:""};console.log("before sendCordinatesRequest"),l=await be(h,g),l.answers&&l.answers.solution&&Array.isArray(l.answers.solution)&&l.answers.solution.length>=2?await $.solveGeetestCaptcha(a,l.answers.solution[0]-l.answers.offset,l.answers.solution[1]):console.error("Invalid response format:",l)}catch(g){console.error("Failed to retrieve coordinates or solve captcha:",g)}}if(u&&o===!1){o=!0;let g=await be(h,{"Content-Type":"application/json",apikey:""});console.log(g,"result")}}}};async function at(e,t,s,r){const n={apiKey:"",source:"chrome",version:$.version,appID:0,task:{type:"BinanceImage",queries:[],examples:[],question:"",websiteURL:s}};if(e){document.querySelector(".bcap-text-message-title")?.textContent?.trim();const o=document.querySelector("#tagLabel")?.textContent?.trim()||"";n.task.question=`binance_grid:${o}`;const h=document.querySelector(".bcap-image-cell-image")?.style?.backgroundImage?.match(/url\(["']?(.*?)["']?\)/)?.[1];if(h){const l=await pe(h);let g=await it(l);l&&n.task.queries.push(...g)}}if(t){const o=document.querySelector(".bs-main-image"),a=document.querySelector(".bs-slide-image"),u=o?.style?.backgroundImage?.match(/url\(["']?(.*?)["']?\)/)?.[1];a?.style?.backgroundImage?.match(/url\(["']?(.*?)["']?\)/)?.[1];const h=document.querySelector(".bs-slide-text")?.textContent;if(n.task.question=`binance_slide:${h}`,u){const l=await pe(u);l&&n.task.queries.push(l)}}return n}const it=async(e,t=3,s=3)=>new Promise((r,n)=>{const o="data:image/jpeg;base64,";e.startsWith("data:image")||(e=o+e);const a=new Image;a.src=e,a.onload=()=>{try{const u=a.width,h=a.height,l=u/s,g=h/t,f=document.createElement("canvas"),S=f.getContext("2d"),p=[];for(let w=0;w<t;w++)for(let b=0;b<s;b++){f.width=l,f.height=g,S.clearRect(0,0,l,g),S.drawImage(a,b*l,w*g,l,g,0,0,l,g);const I=f.toDataURL("image/jpeg").replace(o,"");p.push(I)}r(p)}catch(u){n("Error slicing image: "+u.message)}},a.onerror=u=>n("Error loading image: "+u.message)});async function pe(e){return new Promise(t=>{chrome.runtime.sendMessage({type:"GET_IMAGE_BASE64",payload:{url:e}},s=>{s?.success?t(s.data):(console.error("Failed to fetch base64:",s?.error),t(null))})})}async function be(e,t){return new Promise((s,r)=>{try{const n={type:"networkRequest",payload:{url:"",method:"POST",headers:t,body:JSON.stringify(e)}};chrome.runtime.sendMessage(n,async o=>{if(o.success){const a=o.data;if(a.code!==200){const u=a.msg;if(u){if(a.code===1||a.code===10||a.code===18||o.code===110){chrome.runtime.sendMessage({action:u}),stop=!0;return}if(a.code===17||a.code===19||a.code===429){chrome.runtime.sendMessage({action:u}),stop=!0;return}if([4,3,12,13,14,115].includes(a.code))return document.querySelector(".bs-refresh-icon")?.dispatchEvent(new MouseEvent("click",{bubbles:!0,cancelable:!0})),s(null)}}else if(a.code===200)return s(a)}else console.error("Error for Request 2:",o.error)})}catch(n){return console.error("Error fetching coordinates:",n),r(n)}})}function ct(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var H={exports:{}},lt=H.exports,we;function ut(){return we||(we=1,function(e,t){(function(s,r){r(e)})(typeof globalThis<"u"?globalThis:typeof self<"u"?self:lt,function(s){if(!(globalThis.chrome&&globalThis.chrome.runtime&&globalThis.chrome.runtime.id))throw new Error("This script should only be loaded in a browser extension.");if(globalThis.browser&&globalThis.browser.runtime&&globalThis.browser.runtime.id)s.exports=globalThis.browser;else{const r="The message port closed before a response was received.",n=o=>{const a={alarms:{clear:{minArgs:0,maxArgs:1},clearAll:{minArgs:0,maxArgs:0},get:{minArgs:0,maxArgs:1},getAll:{minArgs:0,maxArgs:0}},bookmarks:{create:{minArgs:1,maxArgs:1},get:{minArgs:1,maxArgs:1},getChildren:{minArgs:1,maxArgs:1},getRecent:{minArgs:1,maxArgs:1},getSubTree:{minArgs:1,maxArgs:1},getTree:{minArgs:0,maxArgs:0},move:{minArgs:2,maxArgs:2},remove:{minArgs:1,maxArgs:1},removeTree:{minArgs:1,maxArgs:1},search:{minArgs:1,maxArgs:1},update:{minArgs:2,maxArgs:2}},browserAction:{disable:{minArgs:0,maxArgs:1,fallbackToNoCallback:!0},enable:{minArgs:0,maxArgs:1,fallbackToNoCallback:!0},getBadgeBackgroundColor:{minArgs:1,maxArgs:1},getBadgeText:{minArgs:1,maxArgs:1},getPopup:{minArgs:1,maxArgs:1},getTitle:{minArgs:1,maxArgs:1},openPopup:{minArgs:0,maxArgs:0},setBadgeBackgroundColor:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setBadgeText:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setIcon:{minArgs:1,maxArgs:1},setPopup:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setTitle:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0}},browsingData:{remove:{minArgs:2,maxArgs:2},removeCache:{minArgs:1,maxArgs:1},removeCookies:{minArgs:1,maxArgs:1},removeDownloads:{minArgs:1,maxArgs:1},removeFormData:{minArgs:1,maxArgs:1},removeHistory:{minArgs:1,maxArgs:1},removeLocalStorage:{minArgs:1,maxArgs:1},removePasswords:{minArgs:1,maxArgs:1},removePluginData:{minArgs:1,maxArgs:1},settings:{minArgs:0,maxArgs:0}},commands:{getAll:{minArgs:0,maxArgs:0}},contextMenus:{remove:{minArgs:1,maxArgs:1},removeAll:{minArgs:0,maxArgs:0},update:{minArgs:2,maxArgs:2}},cookies:{get:{minArgs:1,maxArgs:1},getAll:{minArgs:1,maxArgs:1},getAllCookieStores:{minArgs:0,maxArgs:0},remove:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}},devtools:{inspectedWindow:{eval:{minArgs:1,maxArgs:2,singleCallbackArg:!1}},panels:{create:{minArgs:3,maxArgs:3,singleCallbackArg:!0},elements:{createSidebarPane:{minArgs:1,maxArgs:1}}}},downloads:{cancel:{minArgs:1,maxArgs:1},download:{minArgs:1,maxArgs:1},erase:{minArgs:1,maxArgs:1},getFileIcon:{minArgs:1,maxArgs:2},open:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},pause:{minArgs:1,maxArgs:1},removeFile:{minArgs:1,maxArgs:1},resume:{minArgs:1,maxArgs:1},search:{minArgs:1,maxArgs:1},show:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0}},extension:{isAllowedFileSchemeAccess:{minArgs:0,maxArgs:0},isAllowedIncognitoAccess:{minArgs:0,maxArgs:0}},history:{addUrl:{minArgs:1,maxArgs:1},deleteAll:{minArgs:0,maxArgs:0},deleteRange:{minArgs:1,maxArgs:1},deleteUrl:{minArgs:1,maxArgs:1},getVisits:{minArgs:1,maxArgs:1},search:{minArgs:1,maxArgs:1}},i18n:{detectLanguage:{minArgs:1,maxArgs:1},getAcceptLanguages:{minArgs:0,maxArgs:0}},identity:{launchWebAuthFlow:{minArgs:1,maxArgs:1}},idle:{queryState:{minArgs:1,maxArgs:1}},management:{get:{minArgs:1,maxArgs:1},getAll:{minArgs:0,maxArgs:0},getSelf:{minArgs:0,maxArgs:0},setEnabled:{minArgs:2,maxArgs:2},uninstallSelf:{minArgs:0,maxArgs:1}},notifications:{clear:{minArgs:1,maxArgs:1},create:{minArgs:1,maxArgs:2},getAll:{minArgs:0,maxArgs:0},getPermissionLevel:{minArgs:0,maxArgs:0},update:{minArgs:2,maxArgs:2}},pageAction:{getPopup:{minArgs:1,maxArgs:1},getTitle:{minArgs:1,maxArgs:1},hide:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setIcon:{minArgs:1,maxArgs:1},setPopup:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setTitle:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},show:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0}},permissions:{contains:{minArgs:1,maxArgs:1},getAll:{minArgs:0,maxArgs:0},remove:{minArgs:1,maxArgs:1},request:{minArgs:1,maxArgs:1}},runtime:{getBackgroundPage:{minArgs:0,maxArgs:0},getPlatformInfo:{minArgs:0,maxArgs:0},openOptionsPage:{minArgs:0,maxArgs:0},requestUpdateCheck:{minArgs:0,maxArgs:0},sendMessage:{minArgs:1,maxArgs:3},sendNativeMessage:{minArgs:2,maxArgs:2},setUninstallURL:{minArgs:1,maxArgs:1}},sessions:{getDevices:{minArgs:0,maxArgs:1},getRecentlyClosed:{minArgs:0,maxArgs:1},restore:{minArgs:0,maxArgs:1}},storage:{local:{clear:{minArgs:0,maxArgs:0},get:{minArgs:0,maxArgs:1},getBytesInUse:{minArgs:0,maxArgs:1},remove:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}},managed:{get:{minArgs:0,maxArgs:1},getBytesInUse:{minArgs:0,maxArgs:1}},sync:{clear:{minArgs:0,maxArgs:0},get:{minArgs:0,maxArgs:1},getBytesInUse:{minArgs:0,maxArgs:1},remove:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}}},tabs:{captureVisibleTab:{minArgs:0,maxArgs:2},create:{minArgs:1,maxArgs:1},detectLanguage:{minArgs:0,maxArgs:1},discard:{minArgs:0,maxArgs:1},duplicate:{minArgs:1,maxArgs:1},executeScript:{minArgs:1,maxArgs:2},get:{minArgs:1,maxArgs:1},getCurrent:{minArgs:0,maxArgs:0},getZoom:{minArgs:0,maxArgs:1},getZoomSettings:{minArgs:0,maxArgs:1},goBack:{minArgs:0,maxArgs:1},goForward:{minArgs:0,maxArgs:1},highlight:{minArgs:1,maxArgs:1},insertCSS:{minArgs:1,maxArgs:2},move:{minArgs:2,maxArgs:2},query:{minArgs:1,maxArgs:1},reload:{minArgs:0,maxArgs:2},remove:{minArgs:1,maxArgs:1},removeCSS:{minArgs:1,maxArgs:2},sendMessage:{minArgs:2,maxArgs:3},setZoom:{minArgs:1,maxArgs:2},setZoomSettings:{minArgs:1,maxArgs:2},update:{minArgs:1,maxArgs:2}},topSites:{get:{minArgs:0,maxArgs:0}},webNavigation:{getAllFrames:{minArgs:1,maxArgs:1},getFrame:{minArgs:1,maxArgs:1}},webRequest:{handlerBehaviorChanged:{minArgs:0,maxArgs:0}},windows:{create:{minArgs:0,maxArgs:1},get:{minArgs:1,maxArgs:2},getAll:{minArgs:0,maxArgs:1},getCurrent:{minArgs:0,maxArgs:1},getLastFocused:{minArgs:0,maxArgs:1},remove:{minArgs:1,maxArgs:1},update:{minArgs:2,maxArgs:2}}};if(Object.keys(a).length===0)throw new Error("api-metadata.json has not been included in browser-polyfill");class u extends WeakMap{constructor(c,d=void 0){super(d),this.createItem=c}get(c){return this.has(c)||this.set(c,this.createItem(c)),super.get(c)}}const h=i=>i&&typeof i=="object"&&typeof i.then=="function",l=(i,c)=>(...d)=>{o.runtime.lastError?i.reject(new Error(o.runtime.lastError.message)):c.singleCallbackArg||d.length<=1&&c.singleCallbackArg!==!1?i.resolve(d[0]):i.resolve(d)},g=i=>i==1?"argument":"arguments",f=(i,c)=>function(A,...v){if(v.length<c.minArgs)throw new Error(`Expected at least ${c.minArgs} ${g(c.minArgs)} for ${i}(), got ${v.length}`);if(v.length>c.maxArgs)throw new Error(`Expected at most ${c.maxArgs} ${g(c.maxArgs)} for ${i}(), got ${v.length}`);return new Promise((k,C)=>{if(c.fallbackToNoCallback)try{A[i](...v,l({resolve:k,reject:C},c))}catch(m){console.warn(`${i} API method doesn't seem to support the callback parameter, falling back to call it without a callback: `,m),A[i](...v),c.fallbackToNoCallback=!1,c.noCallback=!0,k()}else c.noCallback?(A[i](...v),k()):A[i](...v,l({resolve:k,reject:C},c))})},S=(i,c,d)=>new Proxy(c,{apply(A,v,k){return d.call(v,i,...k)}});let p=Function.call.bind(Object.prototype.hasOwnProperty);const w=(i,c={},d={})=>{let A=Object.create(null),v={has(C,m){return m in i||m in A},get(C,m,T){if(m in A)return A[m];if(!(m in i))return;let x=i[m];if(typeof x=="function")if(typeof c[m]=="function")x=S(i,i[m],c[m]);else if(p(d,m)){let B=f(m,d[m]);x=S(i,i[m],B)}else x=x.bind(i);else if(typeof x=="object"&&x!==null&&(p(c,m)||p(d,m)))x=w(x,c[m],d[m]);else if(p(d,"*"))x=w(x,c[m],d["*"]);else return Object.defineProperty(A,m,{configurable:!0,enumerable:!0,get(){return i[m]},set(B){i[m]=B}}),x;return A[m]=x,x},set(C,m,T,x){return m in A?A[m]=T:i[m]=T,!0},defineProperty(C,m,T){return Reflect.defineProperty(A,m,T)},deleteProperty(C,m){return Reflect.deleteProperty(A,m)}},k=Object.create(i);return new Proxy(k,v)},b=i=>({addListener(c,d,...A){c.addListener(i.get(d),...A)},hasListener(c,d){return c.hasListener(i.get(d))},removeListener(c,d){c.removeListener(i.get(d))}}),I=new u(i=>typeof i!="function"?i:function(d){const A=w(d,{},{getContent:{minArgs:0,maxArgs:0}});i(A)}),P=new u(i=>typeof i!="function"?i:function(d,A,v){let k=!1,C,m=new Promise(U=>{C=function(M){k=!0,U(M)}}),T;try{T=i(d,A,C)}catch(U){T=Promise.reject(U)}const x=T!==!0&&h(T);if(T!==!0&&!x&&!k)return!1;const B=U=>{U.then(M=>{v(M)},M=>{let re;M&&(M instanceof Error||typeof M.message=="string")?re=M.message:re="An unexpected error occurred",v({__mozWebExtensionPolyfillReject__:!0,message:re})}).catch(M=>{console.error("Failed to send onMessage rejected reply",M)})};return B(x?T:m),!0}),O=({reject:i,resolve:c},d)=>{o.runtime.lastError?o.runtime.lastError.message===r?c():i(new Error(o.runtime.lastError.message)):d&&d.__mozWebExtensionPolyfillReject__?i(new Error(d.message)):c(d)},J=(i,c,d,...A)=>{if(A.length<c.minArgs)throw new Error(`Expected at least ${c.minArgs} ${g(c.minArgs)} for ${i}(), got ${A.length}`);if(A.length>c.maxArgs)throw new Error(`Expected at most ${c.maxArgs} ${g(c.maxArgs)} for ${i}(), got ${A.length}`);return new Promise((v,k)=>{const C=O.bind(null,{resolve:v,reject:k});A.push(C),d.sendMessage(...A)})},R={devtools:{network:{onRequestFinished:b(I)}},runtime:{onMessage:b(P),onMessageExternal:b(P),sendMessage:J.bind(null,"sendMessage",{minArgs:1,maxArgs:3})},tabs:{sendMessage:J.bind(null,"sendMessage",{minArgs:2,maxArgs:3})}},N={clear:{minArgs:1,maxArgs:1},get:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}};return a.privacy={network:{"*":N},services:{"*":N},websites:{"*":N}},w(o,R,a)};s.exports=n(chrome)}})}(H)),H.exports}var gt=ut();const xe=ct(gt);function G(e,...t){}const mt={debug:(...e)=>G(console.debug,...e),log:(...e)=>G(console.log,...e),warn:(...e)=>G(console.warn,...e),error:(...e)=>G(console.error,...e)};class te extends Event{constructor(t,s){super(te.EVENT_NAME,{}),this.newUrl=t,this.oldUrl=s}static EVENT_NAME=se("wxt:locationchange")}function se(e){return`${xe?.runtime?.id}:binance:${e}`}function dt(e){let t,s;return{run(){t==null&&(s=new URL(location.href),t=e.setInterval(()=>{let r=new URL(location.href);r.href!==s.href&&(window.dispatchEvent(new te(r,s)),s=r)},1e3))}}}class V{constructor(t,s){this.contentScriptName=t,this.options=s,this.abortController=new AbortController,this.isTopFrame?(this.listenForNewerScripts({ignoreFirstEvent:!0}),this.stopOldScripts()):this.listenForNewerScripts()}static SCRIPT_STARTED_MESSAGE_TYPE=se("wxt:content-script-started");isTopFrame=window.self===window.top;abortController;locationWatcher=dt(this);receivedMessageIds=new Set;get signal(){return this.abortController.signal}abort(t){return this.abortController.abort(t)}get isInvalid(){return xe.runtime.id==null&&this.notifyInvalidated(),this.signal.aborted}get isValid(){return!this.isInvalid}onInvalidated(t){return this.signal.addEventListener("abort",t),()=>this.signal.removeEventListener("abort",t)}block(){return new Promise(()=>{})}setInterval(t,s){const r=setInterval(()=>{this.isValid&&t()},s);return this.onInvalidated(()=>clearInterval(r)),r}setTimeout(t,s){const r=setTimeout(()=>{this.isValid&&t()},s);return this.onInvalidated(()=>clearTimeout(r)),r}requestAnimationFrame(t){const s=requestAnimationFrame((...r)=>{this.isValid&&t(...r)});return this.onInvalidated(()=>cancelAnimationFrame(s)),s}requestIdleCallback(t,s){const r=requestIdleCallback((...n)=>{this.signal.aborted||t(...n)},s);return this.onInvalidated(()=>cancelIdleCallback(r)),r}addEventListener(t,s,r,n){s==="wxt:locationchange"&&this.isValid&&this.locationWatcher.run(),t.addEventListener?.(s.startsWith("wxt:")?se(s):s,r,{...n,signal:this.signal})}notifyInvalidated(){this.abort("Content script context invalidated"),mt.debug(`Content script "${this.contentScriptName}" context invalidated`)}stopOldScripts(){window.postMessage({type:V.SCRIPT_STARTED_MESSAGE_TYPE,contentScriptName:this.contentScriptName,messageId:Math.random().toString(36).slice(2)},"*")}verifyScriptStartedEvent(t){const s=t.data?.type===V.SCRIPT_STARTED_MESSAGE_TYPE,r=t.data?.contentScriptName===this.contentScriptName,n=!this.receivedMessageIds.has(t.data?.messageId);return s&&r&&n}listenForNewerScripts(t){let s=!0;const r=n=>{if(this.verifyScriptStartedEvent(n)){this.receivedMessageIds.add(n.data.messageId);const o=s;if(s=!1,o&&t?.ignoreFirstEvent)return;this.notifyInvalidated()}};addEventListener("message",r),this.onInvalidated(()=>removeEventListener("message",r))}}const ft=Symbol("null");let At=0;class ht extends Map{constructor(){super(),this._objectHashes=new WeakMap,this._symbolHashes=new Map,this._publicKeys=new Map;const[t]=arguments;if(t!=null){if(typeof t[Symbol.iterator]!="function")throw new TypeError(typeof t+" is not iterable (cannot read property Symbol(Symbol.iterator))");for(const[s,r]of t)this.set(s,r)}}_getPublicKeys(t,s=!1){if(!Array.isArray(t))throw new TypeError("The keys parameter must be an array");const r=this._getPrivateKey(t,s);let n;return r&&this._publicKeys.has(r)?n=this._publicKeys.get(r):s&&(n=[...t],this._publicKeys.set(r,n)),{privateKey:r,publicKey:n}}_getPrivateKey(t,s=!1){const r=[];for(let n of t){n===null&&(n=ft);const o=typeof n=="object"||typeof n=="function"?"_objectHashes":typeof n=="symbol"?"_symbolHashes":!1;if(!o)r.push(n);else if(this[o].has(n))r.push(this[o].get(n));else if(s){const a=`@@mkm-ref-${At++}@@`;this[o].set(n,a),r.push(a)}else return!1}return JSON.stringify(r)}set(t,s){const{publicKey:r}=this._getPublicKeys(t,!0);return super.set(r,s)}get(t){const{publicKey:s}=this._getPublicKeys(t);return super.get(s)}has(t){const{publicKey:s}=this._getPublicKeys(t);return super.has(s)}delete(t){const{publicKey:s,privateKey:r}=this._getPublicKeys(t);return!!(s&&super.delete(s)&&this._publicKeys.delete(r))}clear(){super.clear(),this._symbolHashes.clear(),this._publicKeys.clear()}get[Symbol.toStringTag](){return"ManyKeysMap"}get size(){return super.size}}new ht;function yt(){}function z(e,...t){}const pt={debug:(...e)=>z(console.debug,...e),log:(...e)=>z(console.log,...e),warn:(...e)=>z(console.warn,...e),error:(...e)=>z(console.error,...e)};return(async()=>{try{const{main:e,...t}=ot,s=new V("binance",t);return await e(s)}catch(e){throw pt.error('The content script "binance" crashed on startup!',e),e}})()}();
binance;
