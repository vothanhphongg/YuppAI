var geetest3=function(){"use strict";function yt(e){return e}const we=!1,ne={equals:(e,t)=>e===t};let ye=ce;const j=1,K=2;var Y=null;let Q=null,ve=null,C=null,_=null,L=null,X=0;function oe(e,t){t=t?Object.assign({},ne,t):ne;const s={value:e,observers:null,observerSlots:null,comparator:t.equals||void 0},r=n=>(typeof n=="function"&&(n=n(s.value)),ie(s,n));return[Ee.bind(s),r]}function xe(e){if(C===null)return e();const t=C;C=null;try{return e()}finally{C=t}}function Ee(){if(this.sources&&this.state)if(this.state===j)ae(this);else{const e=_;_=null,W(()=>H(this)),_=e}if(C){const e=this.observers?this.observers.length:0;C.sources?(C.sources.push(this),C.sourceSlots.push(e)):(C.sources=[this],C.sourceSlots=[e]),this.observers?(this.observers.push(C),this.observerSlots.push(C.sources.length-1)):(this.observers=[C],this.observerSlots=[C.sources.length-1])}return this.value}function ie(e,t,s){let r=e.value;return(!e.comparator||!e.comparator(r,t))&&(e.value=t,e.observers&&e.observers.length&&W(()=>{for(let n=0;n<e.observers.length;n+=1){const i=e.observers[n],u=Q&&Q.running;u&&Q.disposed.has(i),(u?!i.tState:!i.state)&&(i.pure?_.push(i):L.push(i),i.observers&&ue(i)),u||(i.state=j)}if(_.length>1e6)throw _=[],new Error})),t}function ae(e){if(!e.fn)return;V(e);const t=X;ke(e,e.value,t)}function ke(e,t,s){let r;const n=Y,i=C;C=Y=e;try{r=e.fn(t)}catch(u){return e.pure&&(e.state=j,e.owned&&e.owned.forEach(V),e.owned=null),e.updatedAt=s+1,ge(u)}finally{C=i,Y=n}(!e.updatedAt||e.updatedAt<=s)&&(e.updatedAt!=null&&"observers"in e?ie(e,r):e.value=r,e.updatedAt=s)}function le(e){if(e.state===0)return;if(e.state===K)return H(e);if(e.suspense&&xe(e.suspense.inFallback))return e.suspense.effects.push(e);const t=[e];for(;(e=e.owner)&&(!e.updatedAt||e.updatedAt<X);)e.state&&t.push(e);for(let s=t.length-1;s>=0;s--)if(e=t[s],e.state===j)ae(e);else if(e.state===K){const r=_;_=null,W(()=>H(e,t[0])),_=r}}function W(e,t){if(_)return e();let s=!1;_=[],L?s=!0:L=[],X++;try{const r=e();return Se(s),r}catch(r){s||(L=null),_=null,ge(r)}}function Se(e){if(_&&(ce(_),_=null),e)return;const t=L;L=null,t.length&&W(()=>ye(t))}function ce(e){for(let t=0;t<e.length;t++)le(e[t])}function H(e,t){e.state=0;for(let s=0;s<e.sources.length;s+=1){const r=e.sources[s];if(r.sources){const n=r.state;n===j?r!==t&&(!r.updatedAt||r.updatedAt<X)&&le(r):n===K&&H(r,t)}}}function ue(e){for(let t=0;t<e.observers.length;t+=1){const s=e.observers[t];s.state||(s.state=K,s.pure?_.push(s):L.push(s),s.observers&&ue(s))}}function V(e){let t;if(e.sources)for(;e.sources.length;){const s=e.sources.pop(),r=e.sourceSlots.pop(),n=s.observers;if(n&&n.length){const i=n.pop(),u=s.observerSlots.pop();r<n.length&&(i.sourceSlots[u]=r,n[r]=i,s.observerSlots[r]=u)}}if(e.tOwned){for(t=e.tOwned.length-1;t>=0;t--)V(e.tOwned[t]);delete e.tOwned}if(e.owned){for(t=e.owned.length-1;t>=0;t--)V(e.owned[t]);e.owned=null}if(e.cleanups){for(t=e.cleanups.length-1;t>=0;t--)e.cleanups[t]();e.cleanups=null}e.state=0}function Te(e){return e instanceof Error?e:new Error(typeof e=="string"?e:"Unknown error",{cause:e})}function ge(e,t=Y){throw Te(e)}const Ce="0.2.1",_e=(e,t)=>{const s=document.createElement("div");s.style.cssText="position:fixed;top:8%;left:0;background-color:rgba(0,0,0,.6);padding:2px;color:#fff;font:calc(14px + .5vw) 'Arial',sans-serif;font-weight:bold;text-transform:uppercase;letter-spacing:1px;z-index:9999;transition:all 1s;animation:slideIn 1s forwards",s.innerHTML=`<p>${e}. Retrying in..<span id="countdown">${t}</span></p>`,document.body.appendChild(s),(()=>{const i=document.getElementById("countdown");if(!i)return;let u=t;const b=setInterval(()=>{u--,i.textContent=u,u<=0&&clearInterval(b)},1e3)})();const n=document.createElement("style");n.innerHTML="@keyframes slideIn{0%{transform:translateX(-100%)}100%{transform:translateX(0)}}@keyframes slideOut{0%{transform:translateX(0)}100%{transform:translateX(100%)}}",document.head.appendChild(n),setTimeout(()=>{s.style.animation="slideOut 1s forwards",setTimeout(()=>{document.body.removeChild(s)},1e3)},t*1e3)},N=e=>document.querySelector(e),me=e=>document.querySelectorAll(e);function de(){return N(".task-answers")!==null}function fe(){return me(".task-image .image").length===9}function he(){return N(".bounding-box-example")!==null}function Pe(){return N(".challenge-header")!==null&&N(".bounding-box-example")===null&&N(".task-grid")==null}function Me(){const e=document.body.getBoundingClientRect();return e?.width===0||e?.height===0?!1:document.querySelector("div.check")!==null}function U(e){return new Promise(t=>setTimeout(t,e))}function Ie(e,t){return Math.floor(Math.random()*(t-e)+e)}function Re(){try{const e=document.querySelector("div.check");return e&&e.style.display==="block"}catch(e){return console.error(e),!1}}async function qe(e){const t=await(await fetch(e,{headers:{"if-none-match":'"CFDAD5AA0CE4A3068FF1CABAC59E4D9D"'},host:"https://domain.com"})).blob();return await $e(t)}async function $e(e){return new Promise(t=>{const s=new FileReader;s.readAsDataURL(e),s.addEventListener("loadend",()=>{const r=s.result.replace(/^data:image\/(png|jpeg);base64,/,"");t(r)}),s.addEventListener("error",()=>{logs&&console.log("❌ Failed to convert url to base64")})})}async function Ae(e){try{const t=await fetch(e);if(!t.ok)throw new Error(`Failed to fetch the URL: ${e}`);const s=await t.blob();return new Promise((r,n)=>{const i=new FileReader;i.readAsDataURL(s),i.addEventListener("loadend",()=>{r(i.result.replace(/^data:image\/(png|jpeg);base64,/,""))}),i.addEventListener("error",()=>{console.error("❌ Failed to read blob as base64"),n("Failed to read blob")})})}catch(t){return console.error(`❌ Failed to convert URL to base64: ${e}`,t),null}}function Be(){document.querySelectorAll("iframe").forEach(t=>{t.src=t.src})}async function Fe(){he()?(await U(200),document.querySelector(".display-language.button").click(),await U(100),document.querySelector(".language-selector .option:nth-child(23)").click()):fe()?(await U(100),document.querySelector(".language-selector .option:nth-child(23)").click()):de()&&(document.querySelector(".display-language.button").click(),await U(200),document.querySelector(".language-selector .option:nth-child(23)").click(),await U(200))}function Le(){document.querySelector(".button-submit").click()}async function Oe(){const e=navigator.userAgent;let t,s=e.match(/(opera|chrome|safari|firefox|msie|trident(?=\/))\/?\s*(\d+)/i)||[];return/trident/i.test(s[1])?(t=/\brv[ :]+(\d+)/g.exec(e)||[],`IE ${t[1]||""}`):s[1]==="Chrome"&&(t=e.match(/\b(OPR|Edge)\/(\d+)/),t!=null)?t.slice(1).join(" ").replace("OPR","Opera"):(s=s[2]?[s[1],s[2]]:[navigator.appName,navigator.appVersion,"-?"],(t=e.match(/version\/(\d+)/i))!=null&&s.splice(1,1,t[1]),{version:s,platform:navigator.platform})}function Ne(e){for(let t=e.length-1;t>0;t--){const s=Math.floor(Math.random()*(t+1));[e[t],e[s]]=[e[s],e[t]]}return e}function ee(e){["mouseover","mousedown","mouseup","click"].forEach(t=>{if(e.fireEvent)e.fireEvent("on"+t);else{const s=document.createEvent("MouseEvents");s.initEvent(t,!0,!1),e.dispatchEvent(s)}})}function te(e,t,s,r,n,i,u){e.dispatchEvent(new MouseEvent(t,{bubbles:!0,clientX:s,clientY:r,buttons:n,button:i,pressure:u}))}async function Ue(e,t){const s=document.querySelector("canvas");if(e!==void 0)for(const{start:r,end:n}of e)if(Array.isArray(r)&&r.length!==0&&Array.isArray(n)&&n.length!==0){const[i,u]=r,[b,k]=n,A=s.getBoundingClientRect(),p=i+A.left,y=u+A.top,I=b+A.left,x=k+A.top;te(s,"mousedown",p,y,1,0,1),await new Promise($=>setTimeout($,t));const S=I-p,v=x-y,q=Math.sqrt(S**2+v**2),M=Math.round(q/6),O=S/M,D=v/M;for(let $=1;$<=M;$++){const F=p+O*$,l=y+D*$;te(s,"mousemove",F,l,1,0,1),await new Promise(m=>setTimeout(m,50))}te(s,"mouseup",I,x,0,0,0)}else P.$(".button-submit").click();else P.$(".button-submit").click()}async function De(e){function t(i,u,b){const k=i.getBoundingClientRect(),A=["mouseover","mousedown","mouseup","click"],p={clientX:u+k.left,clientY:b+k.top,bubbles:!0};for(let y=0;y<A.length;y++){const I=new MouseEvent(A[y],p);i.dispatchEvent(I)}}const s=document.querySelector("canvas");s.addEventListener("mousedown",i=>{const u=s.getBoundingClientRect();i.clientX-u.left,i.clientY-u.top});const[r,n]=e;t(s,r,n),await P.sleep(300)}async function je(e,t){const s=(await chrome.storage.local.get("customEndpoint")).customEndpoint;return t==="custom"?`https://${s}/${e}`:"https://api.captchasonic.com/createTask"}async function Ke(e){for(const t of e){const s=[...document.querySelectorAll(".answer-text")].find(r=>r.outerText===t);ee(s),[...document.querySelectorAll(".answer-example")].some(r=>r.style.backgroundColor==="rgb(116, 116, 116)")||ee(s)}}async function Ye(){const e=document.querySelector("canvas");if(!e)return null;const[t,s]=[e.width,e.height],n=e.getContext("2d",{willReadFrequently:!0}).getImageData(0,0,t,s,{willReadFrequently:!0});if((x=>{const S=x.data;for(let v=0;v<S.length;v+=4){const q=S[v],M=S[v+1],O=S[v+2];if(q!==M||M!==O)return!1}return!0})(n))return null;const u=parseInt(e.style.width,10),b=parseInt(e.style.height,10);if(u<=0||b<=0)return null;const k=Math.min(u/t,b/s),[A,p]=[t*k,s*k],y=document.createElement("canvas");return Object.assign(y,{width:A,height:p}),y.getContext("2d",{willReadFrequently:!0}).drawImage(e,0,0,t,s,0,0,A,p),y.toDataURL("image/jpeg").replace(/^data:image\/(png|jpeg);base64,/,"")}function Xe(e){return[...document.querySelectorAll(`${e}`)].map(t=>t.style.backgroundImage.replace(/url\("|"\)/g,""))}function We(e){return Promise.all(e.map(async(t,s)=>(e[s]=await Ae(t),e[s])))}async function He(e,t,s){const r=e.getBoundingClientRect(),n=r.left+window.scrollX,i=r.top+window.scrollY,u=n+t,b=i+s,k=new MouseEvent("mousedown",{clientX:n,clientY:i,bubbles:!0});e.dispatchEvent(k),await new Promise(x=>setTimeout(x,1e3));const A=20,p=(u-n)/A,y=(b-i)/A;for(let x=1;x<=A;x++){const S=n+p*x,v=i+y*x,q=new MouseEvent("mousemove",{clientX:S,clientY:v,bubbles:!0});e.dispatchEvent(q),await new Promise(M=>setTimeout(M,150))}const I=new MouseEvent("mouseup",{clientX:u,clientY:b,bubbles:!0});e.dispatchEvent(I),await new Promise(x=>setTimeout(x,1e3))}async function Ve(e,t,s){try{const n=await(await fetch(e,{method:"POST",headers:s,body:JSON.stringify(t)})).json();if(n.code!==200){const i=n.msg;if(i){if(n.code===1||n.code===10||n.code===18||n.code===110){chrome.runtime.sendMessage({action:i}),stop=!0;return}if(n.code===17||n.code===19||n.code===429){chrome.runtime.sendMessage({action:i}),stop=!0;return}if([4,3,12,13,14,115].includes(n.code))return document.querySelector(".geetest_refresh").click(),null}}return n}catch(r){throw console.error("Error fetching coordinates:",r),r}}async function Ge(e){try{const t=await fetch("https://feedback.captchasonic.com/extFeedback",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!t.ok)throw new Error(`HTTP error! Status: ${t.status}`);const s=await t.json();return console.log("Success:",s),s}catch(t){return console.error("Error sending feedback:",t),null}}function ze(e,t){const s=document.querySelector(e);if(!s){console.warn(`Element not found: ${e}`);return}return new MutationObserver(n=>{n.forEach(i=>{if(i.attributeName==="aria-hidden"){const u=s.getAttribute("aria-hidden")==="true";window.postMessage({type:"ariaHiddenChange",value:u},"*"),typeof t=="function"&&t(u)}})}).observe(s,{attributes:!0,attributeFilter:["aria-hidden"]}),s.getAttribute("aria-hidden")==="true"}function Je(e,t){const s=`${e}_feedback`;chrome.storage.local.get(`${e}_solved`,r=>{r[`${e}_solved`],chrome.storage.local.get([s],n=>{const i=n[s]||[];if(i.some(b=>b.fail_report===!0)){const b=i.map(p=>p.data),A={type:"feedback",payload:{apiKey:t,data:b,pass:!1}};b.length>0&&chrome.runtime.sendMessage(A,p=>{chrome.storage.local.remove([s,`${e}_solved`,`${e}_feedback`,`${e}_hasRun`],()=>{})})}chrome.storage.local.remove([s,`${e}_solved`],()=>{})})})}function Ze(e,t){const s=`${e}_feedback`;chrome.storage.local.get(`${e}_solved`,r=>{r[`${e}_solved`],chrome.storage.local.get([s],n=>{const i=n[s]||[];if(i.some(b=>b.pass_report===!0)){const b=i.map(p=>p.data),A={type:"feedback",payload:{apiKey:t,data:b,pass:!0}};b.length>0&&chrome.runtime.sendMessage(A,p=>{chrome.storage.local.remove([s,`${e}_solved`,`${e}_feedback`],()=>{})})}chrome.storage.local.remove([s,`${e}_solved`],()=>{})})})}async function Qe(e,t=50,s=.1){return new Promise((r,n)=>{const i=atob(e),u=new Array(i.length);for(let y=0;y<i.length;y++)u[y]=i.charCodeAt(y);const b=new Uint8Array(u),k=new Blob([b],{type:"image/jpeg"}),A=URL.createObjectURL(k),p=new Image;p.onload=()=>{URL.revokeObjectURL(A);const y=document.createElement("canvas");y.width=p.width,y.height=p.height,y.getContext("2d").drawImage(p,0,0);let x=.9,S,v;do S=y.toDataURL("image/jpeg",x),v=S.length*3/4/1024,x-=.05;while(v>t&&x>=s);v>t?n(new Error(`Couldn't compress below ${t}KB. Final size: ${v.toFixed(2)}KB`)):r(S.split(",")[1])},p.onerror=()=>{URL.revokeObjectURL(A),n(new Error("Image load failed (possibly corrupt base64)"))},p.src=A})}async function et(e){return e.replace(/^data:image\/\w+;base64,/,"")}async function tt(e){return new Promise(t=>{chrome.runtime.sendMessage({type:"GET_IMAGE_BASE64",payload:{url:e}},s=>{s?.success?t(s.data):t(null)})})}function st(){return new Promise((e,t)=>{chrome.runtime.sendMessage({action:"getActiveTabUrl"},s=>{chrome.runtime.lastError?t(chrome.runtime.lastError):e(s.url)})})}const P={version:Ce,$:N,$$:me,isMulti:de,isGrid:fe,isBbox:he,isBboxDD:Pe,isWidget:Me,sleep:U,randTimer:Ie,isSolved:Re,countdownNotif:_e,getBase64FromUrl:Ae,refreshIframes:Be,getEn:Fe,skip:Le,getBrowser:Oe,shuffle:Ne,fireMouseEvents:ee,getCanvas:De,handleCanvasDD:Ue,getApi:je,clickMatchingElement:Ke,sliceOG:Ye,updateExamples:We,getExamples:Xe,solveGeetestCaptcha:He,sendCoordinatesRequest:Ve,geeFetchImage:qe,sendFeedback:Ge,observeAriaHidden:ze,handleCaptchaFeedback:Je,handleCaptchaFeedbackOnSuccess:Ze,compressPureBase64Image:Qe,stripBase64Prefix:et,fetchBase64Image:tt,getActiveTabUrl:st};async function rt(e,t,s){if(!e()||e().ACTIVE===!1||e().OPTIONS[s].ENABLED===!1)return!1;function r(u,b){try{return b.some(A=>u.includes(A))}catch(k){return console.error("Error checking blacklist:",k),!1}}const n=e().BLACKLIST||[];return!(r(t(),n)&&e().BLACKLISTENABLED)}const nt={matches:["<all_urls>"],allFrames:!0,match_about_blank:!1,async main(){let e;try{e=window.top.document.location.href}catch{e=window.location.href}const[t]=oe(e),[s,r]=oe(await chrome.storage.local.get("settings"));r(s().settings),await rt(s,t,"GEETEST")&&(async()=>{let u=!1;const b={"Content-Type":"application/json"};let k=null,A=null,p=!1;const y=()=>!navigator.onLine||s().APIKEY===void 0||s().APIKEY===""||s().ACTIVE===!1||s().OPTIONS.GEETEST.ENABLED===!1;if(window.geetestV3Injected)return;window.geetestV3Injected=!0;const I=document.querySelectorAll("div.geetest_wind"),x=[];I.forEach((a,c)=>{const g=new MutationObserver(o=>{for(const h of o)if(h.type==="attributes"&&h.attributeName==="style"){const d=window.getComputedStyle(a),E=parseFloat(d.opacity),R=d.display;E>0&&R!=="none"&&x.forEach(T=>T.disconnect())}});g.observe(a,{attributes:!0,attributeFilter:["style"]}),x.push(g)});let S=null,v=null,q=null,M=null;for(;!y()&&u===!1;){await P.sleep(1e3);let a=P.$("div.geetest_radar_tip");a&&(p=!0),a!=null&&s().OPTIONS.GEETEST.AUTOOPEN===!0&&s()?.AUTOOPENENABLED===!0&&O(a),(k===null||k===""||k===void 0)&&document.querySelectorAll("script").forEach(g=>{g.src.includes("get.php")&&(k=new URL(g.src).searchParams.get("gt"))});try{let c=document.querySelectorAll(".geetest_mark");q=c[c?.length-1],M=document.querySelector(".geetest_slicebg canvas"),q&&(A="geetest_click"),M&&typeof p<"u"&&p&&(A="geetest_slide")}catch(c){console.error("Error detecting Geetest type:",c)}if(q){if(A){const c=await $(A);if(!c){u=!1;continue}if(c.task.queries.length>0){const g=await l(c);if(g&&Array.isArray(g.answers)&&g.answers.length>0&&Array.isArray(g.answers[0])&&g.answers[0].length>0)for(const o of g.answers[0])if(Array.isArray(o.solution)&&o.solution.length>0&&Array.isArray(o.size)&&o.size.length===2){const h=P.$$("img"),d=h[h.length-1];if(d){await m(d,o.solution,o.size),await P.sleep(3e3);const E=document.querySelectorAll(".geetest_commit_tip"),R=E[E.length-1];await w(R)}else await f()}else await f();else await f()}}}else if(M){let c=null;if(A&&(c=await $(A),!c))continue;if(c){const g=await l(c),o=document.querySelector("div.geetest_slider_button");g&&(o&&g!=null&&g.answers?.solution?.length>0?await P.solveGeetestCaptcha(o,g.answers.solution[0]-5,g.answers.solution[1]):await f())}}}function O(a){if(!a)return;const c=a.getBoundingClientRect(),g=c.left+c.width/2+(Math.random()-.5)*5,o=c.top+c.height/2+(Math.random()-.5)*5;a.dispatchEvent(new MouseEvent("mousedown",{bubbles:!0,cancelable:!0,view:window,clientX:g,clientY:o})),setTimeout(()=>{a.dispatchEvent(new MouseEvent("mouseup",{bubbles:!0,cancelable:!0,view:window,clientX:g,clientY:o})),a.dispatchEvent(new MouseEvent("click",{bubbles:!0,cancelable:!0,view:window,clientX:g,clientY:o}))},Math.random()*200+50)}async function D(a){if(!a)return[];const c=a.style.backgroundImage,g=[];if(c){const o=c.match(/url\("(.*?)"\)/);o?g.push(o[1]):console.log("No URL found in background-image for:",a)}return g}async function $(a){if(u)return;if(u=!0,!["geetest_click","geetest_slide"].includes(a))throw new Error(`Unsupported captcha type: ${a}`);const c={apiKey:s().APIKEY,source:"chrome",version:P.version,appID:0,task:{gtv:3,type:"GeetestImage",captchaId:k,queries:[],examples:[],question:"",websiteURL:t()}};if(a==="geetest_click"){const g=P.$$("div.geetest_item_wrap"),o=g[g.length-1],h=await D(o);if(h.length>0){const T=h[0];if(S&&S===T)return await f(),await P.sleep(2e3),null;const B=await P.fetchBase64Image(T);if(v&&v===B)return await f(),await P.sleep(2e3),null;v=B,S=T,c.task.queries.push(B)}else console.warn("No background image URL found.");const d=document.querySelectorAll("div.geetest_tip_content"),E=d[d.length-1],R=E?E.innerText.trim():"";c.task.question=`${a}:${R}`}if(a==="geetest_slide"){const g=document.querySelectorAll("canvas"),o=document.querySelector("div.geetest_slider_tip")?.textContent;if(g.length>=2){const h=F(g[0].toDataURL()),d=F(g[1].toDataURL()),E=h+d;if(v&&v===E)return await f(),await P.sleep(2e3),null;v=E,S=null,c.task.queries.push(h),c.task.examples.push(d),c.task.question=`${a}:${o}`}else console.warn("Not enough canvas images for slide CAPTCHA")}return c}function F(a){return a.replace(/^data:image\/\w+;base64,/,"")}async function l(a){return new Promise((c,g)=>{try{const o={type:"networkRequest",payload:{url:"https://api.captchasonic.com/createTask",method:"POST",headers:b,body:JSON.stringify(a)}};chrome.runtime.sendMessage(o,async h=>{if(h.success){const d=h.data;if(d.code!==200){const E=d.msg;if(E){if(d.code===1||d.code===10||d.code===18||h.code===110){chrome.runtime.sendMessage({action:E}),u=!0;return}if(d.code===17||d.code===19||d.code===429){chrome.runtime.sendMessage({action:E}),u=!0;return}if([4,3,12,13,14,115].includes(d.code))return await f(),c(null)}}else if(d.code===200)return c(d)}else console.error("Error for Request 2:",h.error)})}catch(o){return console.error("Error fetching coordinates:",o),g(o)}})}async function m(a,c,g,o=1e3){if(!a){console.error("Image element not found");return}const h=a.getBoundingClientRect(),d=h.width,E=h.height,[R,T]=g;for(const B of c){const ht=d/T*B.x,At=E/R*B.y,pt=h.left+Math.round(ht),bt=h.top+Math.round(At);await P.sleep(o);const wt=new MouseEvent("click",{bubbles:!0,cancelable:!0,clientX:pt,clientY:bt,view:window});a.dispatchEvent(wt)}}async function f(){let a=document.querySelectorAll(".geetest_refresh"),c=a[a.length-1];c&&(c.click(),u=!1)}async function w(a,c=100){if(!a||typeof a.dispatchEvent!="function"){console.error("Invalid DOM element provided");return}const g=d=>new Promise(E=>setTimeout(E,d)),o={bubbles:!0,cancelable:!0,view:window};a.dispatchEvent(new MouseEvent("mouseover",o)),await g(c),a.dispatchEvent(new MouseEvent("mousedown",o)),await g(c),a.dispatchEvent(new MouseEvent("mouseup",o)),await g(c);const h=new MouseEvent("click",o);Object.defineProperty(h,"preventDefault",{value:()=>{},writable:!1}),a.dispatchEvent(h),u=!1}})()}};function ot(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var G={exports:{}},it=G.exports,pe;function at(){return pe||(pe=1,function(e,t){(function(s,r){r(e)})(typeof globalThis<"u"?globalThis:typeof self<"u"?self:it,function(s){if(!(globalThis.chrome&&globalThis.chrome.runtime&&globalThis.chrome.runtime.id))throw new Error("This script should only be loaded in a browser extension.");if(globalThis.browser&&globalThis.browser.runtime&&globalThis.browser.runtime.id)s.exports=globalThis.browser;else{const r="The message port closed before a response was received.",n=i=>{const u={alarms:{clear:{minArgs:0,maxArgs:1},clearAll:{minArgs:0,maxArgs:0},get:{minArgs:0,maxArgs:1},getAll:{minArgs:0,maxArgs:0}},bookmarks:{create:{minArgs:1,maxArgs:1},get:{minArgs:1,maxArgs:1},getChildren:{minArgs:1,maxArgs:1},getRecent:{minArgs:1,maxArgs:1},getSubTree:{minArgs:1,maxArgs:1},getTree:{minArgs:0,maxArgs:0},move:{minArgs:2,maxArgs:2},remove:{minArgs:1,maxArgs:1},removeTree:{minArgs:1,maxArgs:1},search:{minArgs:1,maxArgs:1},update:{minArgs:2,maxArgs:2}},browserAction:{disable:{minArgs:0,maxArgs:1,fallbackToNoCallback:!0},enable:{minArgs:0,maxArgs:1,fallbackToNoCallback:!0},getBadgeBackgroundColor:{minArgs:1,maxArgs:1},getBadgeText:{minArgs:1,maxArgs:1},getPopup:{minArgs:1,maxArgs:1},getTitle:{minArgs:1,maxArgs:1},openPopup:{minArgs:0,maxArgs:0},setBadgeBackgroundColor:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setBadgeText:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setIcon:{minArgs:1,maxArgs:1},setPopup:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setTitle:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0}},browsingData:{remove:{minArgs:2,maxArgs:2},removeCache:{minArgs:1,maxArgs:1},removeCookies:{minArgs:1,maxArgs:1},removeDownloads:{minArgs:1,maxArgs:1},removeFormData:{minArgs:1,maxArgs:1},removeHistory:{minArgs:1,maxArgs:1},removeLocalStorage:{minArgs:1,maxArgs:1},removePasswords:{minArgs:1,maxArgs:1},removePluginData:{minArgs:1,maxArgs:1},settings:{minArgs:0,maxArgs:0}},commands:{getAll:{minArgs:0,maxArgs:0}},contextMenus:{remove:{minArgs:1,maxArgs:1},removeAll:{minArgs:0,maxArgs:0},update:{minArgs:2,maxArgs:2}},cookies:{get:{minArgs:1,maxArgs:1},getAll:{minArgs:1,maxArgs:1},getAllCookieStores:{minArgs:0,maxArgs:0},remove:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}},devtools:{inspectedWindow:{eval:{minArgs:1,maxArgs:2,singleCallbackArg:!1}},panels:{create:{minArgs:3,maxArgs:3,singleCallbackArg:!0},elements:{createSidebarPane:{minArgs:1,maxArgs:1}}}},downloads:{cancel:{minArgs:1,maxArgs:1},download:{minArgs:1,maxArgs:1},erase:{minArgs:1,maxArgs:1},getFileIcon:{minArgs:1,maxArgs:2},open:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},pause:{minArgs:1,maxArgs:1},removeFile:{minArgs:1,maxArgs:1},resume:{minArgs:1,maxArgs:1},search:{minArgs:1,maxArgs:1},show:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0}},extension:{isAllowedFileSchemeAccess:{minArgs:0,maxArgs:0},isAllowedIncognitoAccess:{minArgs:0,maxArgs:0}},history:{addUrl:{minArgs:1,maxArgs:1},deleteAll:{minArgs:0,maxArgs:0},deleteRange:{minArgs:1,maxArgs:1},deleteUrl:{minArgs:1,maxArgs:1},getVisits:{minArgs:1,maxArgs:1},search:{minArgs:1,maxArgs:1}},i18n:{detectLanguage:{minArgs:1,maxArgs:1},getAcceptLanguages:{minArgs:0,maxArgs:0}},identity:{launchWebAuthFlow:{minArgs:1,maxArgs:1}},idle:{queryState:{minArgs:1,maxArgs:1}},management:{get:{minArgs:1,maxArgs:1},getAll:{minArgs:0,maxArgs:0},getSelf:{minArgs:0,maxArgs:0},setEnabled:{minArgs:2,maxArgs:2},uninstallSelf:{minArgs:0,maxArgs:1}},notifications:{clear:{minArgs:1,maxArgs:1},create:{minArgs:1,maxArgs:2},getAll:{minArgs:0,maxArgs:0},getPermissionLevel:{minArgs:0,maxArgs:0},update:{minArgs:2,maxArgs:2}},pageAction:{getPopup:{minArgs:1,maxArgs:1},getTitle:{minArgs:1,maxArgs:1},hide:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setIcon:{minArgs:1,maxArgs:1},setPopup:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setTitle:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},show:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0}},permissions:{contains:{minArgs:1,maxArgs:1},getAll:{minArgs:0,maxArgs:0},remove:{minArgs:1,maxArgs:1},request:{minArgs:1,maxArgs:1}},runtime:{getBackgroundPage:{minArgs:0,maxArgs:0},getPlatformInfo:{minArgs:0,maxArgs:0},openOptionsPage:{minArgs:0,maxArgs:0},requestUpdateCheck:{minArgs:0,maxArgs:0},sendMessage:{minArgs:1,maxArgs:3},sendNativeMessage:{minArgs:2,maxArgs:2},setUninstallURL:{minArgs:1,maxArgs:1}},sessions:{getDevices:{minArgs:0,maxArgs:1},getRecentlyClosed:{minArgs:0,maxArgs:1},restore:{minArgs:0,maxArgs:1}},storage:{local:{clear:{minArgs:0,maxArgs:0},get:{minArgs:0,maxArgs:1},getBytesInUse:{minArgs:0,maxArgs:1},remove:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}},managed:{get:{minArgs:0,maxArgs:1},getBytesInUse:{minArgs:0,maxArgs:1}},sync:{clear:{minArgs:0,maxArgs:0},get:{minArgs:0,maxArgs:1},getBytesInUse:{minArgs:0,maxArgs:1},remove:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}}},tabs:{captureVisibleTab:{minArgs:0,maxArgs:2},create:{minArgs:1,maxArgs:1},detectLanguage:{minArgs:0,maxArgs:1},discard:{minArgs:0,maxArgs:1},duplicate:{minArgs:1,maxArgs:1},executeScript:{minArgs:1,maxArgs:2},get:{minArgs:1,maxArgs:1},getCurrent:{minArgs:0,maxArgs:0},getZoom:{minArgs:0,maxArgs:1},getZoomSettings:{minArgs:0,maxArgs:1},goBack:{minArgs:0,maxArgs:1},goForward:{minArgs:0,maxArgs:1},highlight:{minArgs:1,maxArgs:1},insertCSS:{minArgs:1,maxArgs:2},move:{minArgs:2,maxArgs:2},query:{minArgs:1,maxArgs:1},reload:{minArgs:0,maxArgs:2},remove:{minArgs:1,maxArgs:1},removeCSS:{minArgs:1,maxArgs:2},sendMessage:{minArgs:2,maxArgs:3},setZoom:{minArgs:1,maxArgs:2},setZoomSettings:{minArgs:1,maxArgs:2},update:{minArgs:1,maxArgs:2}},topSites:{get:{minArgs:0,maxArgs:0}},webNavigation:{getAllFrames:{minArgs:1,maxArgs:1},getFrame:{minArgs:1,maxArgs:1}},webRequest:{handlerBehaviorChanged:{minArgs:0,maxArgs:0}},windows:{create:{minArgs:0,maxArgs:1},get:{minArgs:1,maxArgs:2},getAll:{minArgs:0,maxArgs:1},getCurrent:{minArgs:0,maxArgs:1},getLastFocused:{minArgs:0,maxArgs:1},remove:{minArgs:1,maxArgs:1},update:{minArgs:2,maxArgs:2}}};if(Object.keys(u).length===0)throw new Error("api-metadata.json has not been included in browser-polyfill");class b extends WeakMap{constructor(m,f=void 0){super(f),this.createItem=m}get(m){return this.has(m)||this.set(m,this.createItem(m)),super.get(m)}}const k=l=>l&&typeof l=="object"&&typeof l.then=="function",A=(l,m)=>(...f)=>{i.runtime.lastError?l.reject(new Error(i.runtime.lastError.message)):m.singleCallbackArg||f.length<=1&&m.singleCallbackArg!==!1?l.resolve(f[0]):l.resolve(f)},p=l=>l==1?"argument":"arguments",y=(l,m)=>function(w,...a){if(a.length<m.minArgs)throw new Error(`Expected at least ${m.minArgs} ${p(m.minArgs)} for ${l}(), got ${a.length}`);if(a.length>m.maxArgs)throw new Error(`Expected at most ${m.maxArgs} ${p(m.maxArgs)} for ${l}(), got ${a.length}`);return new Promise((c,g)=>{if(m.fallbackToNoCallback)try{w[l](...a,A({resolve:c,reject:g},m))}catch(o){console.warn(`${l} API method doesn't seem to support the callback parameter, falling back to call it without a callback: `,o),w[l](...a),m.fallbackToNoCallback=!1,m.noCallback=!0,c()}else m.noCallback?(w[l](...a),c()):w[l](...a,A({resolve:c,reject:g},m))})},I=(l,m,f)=>new Proxy(m,{apply(w,a,c){return f.call(a,l,...c)}});let x=Function.call.bind(Object.prototype.hasOwnProperty);const S=(l,m={},f={})=>{let w=Object.create(null),a={has(g,o){return o in l||o in w},get(g,o,h){if(o in w)return w[o];if(!(o in l))return;let d=l[o];if(typeof d=="function")if(typeof m[o]=="function")d=I(l,l[o],m[o]);else if(x(f,o)){let E=y(o,f[o]);d=I(l,l[o],E)}else d=d.bind(l);else if(typeof d=="object"&&d!==null&&(x(m,o)||x(f,o)))d=S(d,m[o],f[o]);else if(x(f,"*"))d=S(d,m[o],f["*"]);else return Object.defineProperty(w,o,{configurable:!0,enumerable:!0,get(){return l[o]},set(E){l[o]=E}}),d;return w[o]=d,d},set(g,o,h,d){return o in w?w[o]=h:l[o]=h,!0},defineProperty(g,o,h){return Reflect.defineProperty(w,o,h)},deleteProperty(g,o){return Reflect.deleteProperty(w,o)}},c=Object.create(l);return new Proxy(c,a)},v=l=>({addListener(m,f,...w){m.addListener(l.get(f),...w)},hasListener(m,f){return m.hasListener(l.get(f))},removeListener(m,f){m.removeListener(l.get(f))}}),q=new b(l=>typeof l!="function"?l:function(f){const w=S(f,{},{getContent:{minArgs:0,maxArgs:0}});l(w)}),M=new b(l=>typeof l!="function"?l:function(f,w,a){let c=!1,g,o=new Promise(R=>{g=function(T){c=!0,R(T)}}),h;try{h=l(f,w,g)}catch(R){h=Promise.reject(R)}const d=h!==!0&&k(h);if(h!==!0&&!d&&!c)return!1;const E=R=>{R.then(T=>{a(T)},T=>{let B;T&&(T instanceof Error||typeof T.message=="string")?B=T.message:B="An unexpected error occurred",a({__mozWebExtensionPolyfillReject__:!0,message:B})}).catch(T=>{console.error("Failed to send onMessage rejected reply",T)})};return E(d?h:o),!0}),O=({reject:l,resolve:m},f)=>{i.runtime.lastError?i.runtime.lastError.message===r?m():l(new Error(i.runtime.lastError.message)):f&&f.__mozWebExtensionPolyfillReject__?l(new Error(f.message)):m(f)},D=(l,m,f,...w)=>{if(w.length<m.minArgs)throw new Error(`Expected at least ${m.minArgs} ${p(m.minArgs)} for ${l}(), got ${w.length}`);if(w.length>m.maxArgs)throw new Error(`Expected at most ${m.maxArgs} ${p(m.maxArgs)} for ${l}(), got ${w.length}`);return new Promise((a,c)=>{const g=O.bind(null,{resolve:a,reject:c});w.push(g),f.sendMessage(...w)})},$={devtools:{network:{onRequestFinished:v(q)}},runtime:{onMessage:v(M),onMessageExternal:v(M),sendMessage:D.bind(null,"sendMessage",{minArgs:1,maxArgs:3})},tabs:{sendMessage:D.bind(null,"sendMessage",{minArgs:2,maxArgs:3})}},F={clear:{minArgs:1,maxArgs:1},get:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}};return u.privacy={network:{"*":F},services:{"*":F},websites:{"*":F}},S(i,$,u)};s.exports=n(chrome)}})}(G)),G.exports}var lt=at();const be=ot(lt);function z(e,...t){}const ct={debug:(...e)=>z(console.debug,...e),log:(...e)=>z(console.log,...e),warn:(...e)=>z(console.warn,...e),error:(...e)=>z(console.error,...e)};class se extends Event{constructor(t,s){super(se.EVENT_NAME,{}),this.newUrl=t,this.oldUrl=s}static EVENT_NAME=re("wxt:locationchange")}function re(e){return`${be?.runtime?.id}:geetest3:${e}`}function ut(e){let t,s;return{run(){t==null&&(s=new URL(location.href),t=e.setInterval(()=>{let r=new URL(location.href);r.href!==s.href&&(window.dispatchEvent(new se(r,s)),s=r)},1e3))}}}class J{constructor(t,s){this.contentScriptName=t,this.options=s,this.abortController=new AbortController,this.isTopFrame?(this.listenForNewerScripts({ignoreFirstEvent:!0}),this.stopOldScripts()):this.listenForNewerScripts()}static SCRIPT_STARTED_MESSAGE_TYPE=re("wxt:content-script-started");isTopFrame=window.self===window.top;abortController;locationWatcher=ut(this);receivedMessageIds=new Set;get signal(){return this.abortController.signal}abort(t){return this.abortController.abort(t)}get isInvalid(){return be.runtime.id==null&&this.notifyInvalidated(),this.signal.aborted}get isValid(){return!this.isInvalid}onInvalidated(t){return this.signal.addEventListener("abort",t),()=>this.signal.removeEventListener("abort",t)}block(){return new Promise(()=>{})}setInterval(t,s){const r=setInterval(()=>{this.isValid&&t()},s);return this.onInvalidated(()=>clearInterval(r)),r}setTimeout(t,s){const r=setTimeout(()=>{this.isValid&&t()},s);return this.onInvalidated(()=>clearTimeout(r)),r}requestAnimationFrame(t){const s=requestAnimationFrame((...r)=>{this.isValid&&t(...r)});return this.onInvalidated(()=>cancelAnimationFrame(s)),s}requestIdleCallback(t,s){const r=requestIdleCallback((...n)=>{this.signal.aborted||t(...n)},s);return this.onInvalidated(()=>cancelIdleCallback(r)),r}addEventListener(t,s,r,n){s==="wxt:locationchange"&&this.isValid&&this.locationWatcher.run(),t.addEventListener?.(s.startsWith("wxt:")?re(s):s,r,{...n,signal:this.signal})}notifyInvalidated(){this.abort("Content script context invalidated"),ct.debug(`Content script "${this.contentScriptName}" context invalidated`)}stopOldScripts(){window.postMessage({type:J.SCRIPT_STARTED_MESSAGE_TYPE,contentScriptName:this.contentScriptName,messageId:Math.random().toString(36).slice(2)},"*")}verifyScriptStartedEvent(t){const s=t.data?.type===J.SCRIPT_STARTED_MESSAGE_TYPE,r=t.data?.contentScriptName===this.contentScriptName,n=!this.receivedMessageIds.has(t.data?.messageId);return s&&r&&n}listenForNewerScripts(t){let s=!0;const r=n=>{if(this.verifyScriptStartedEvent(n)){this.receivedMessageIds.add(n.data.messageId);const i=s;if(s=!1,i&&t?.ignoreFirstEvent)return;this.notifyInvalidated()}};addEventListener("message",r),this.onInvalidated(()=>removeEventListener("message",r))}}const gt=Symbol("null");let mt=0;class dt extends Map{constructor(){super(),this._objectHashes=new WeakMap,this._symbolHashes=new Map,this._publicKeys=new Map;const[t]=arguments;if(t!=null){if(typeof t[Symbol.iterator]!="function")throw new TypeError(typeof t+" is not iterable (cannot read property Symbol(Symbol.iterator))");for(const[s,r]of t)this.set(s,r)}}_getPublicKeys(t,s=!1){if(!Array.isArray(t))throw new TypeError("The keys parameter must be an array");const r=this._getPrivateKey(t,s);let n;return r&&this._publicKeys.has(r)?n=this._publicKeys.get(r):s&&(n=[...t],this._publicKeys.set(r,n)),{privateKey:r,publicKey:n}}_getPrivateKey(t,s=!1){const r=[];for(let n of t){n===null&&(n=gt);const i=typeof n=="object"||typeof n=="function"?"_objectHashes":typeof n=="symbol"?"_symbolHashes":!1;if(!i)r.push(n);else if(this[i].has(n))r.push(this[i].get(n));else if(s){const u=`@@mkm-ref-${mt++}@@`;this[i].set(n,u),r.push(u)}else return!1}return JSON.stringify(r)}set(t,s){const{publicKey:r}=this._getPublicKeys(t,!0);return super.set(r,s)}get(t){const{publicKey:s}=this._getPublicKeys(t);return super.get(s)}has(t){const{publicKey:s}=this._getPublicKeys(t);return super.has(s)}delete(t){const{publicKey:s,privateKey:r}=this._getPublicKeys(t);return!!(s&&super.delete(s)&&this._publicKeys.delete(r))}clear(){super.clear(),this._symbolHashes.clear(),this._publicKeys.clear()}get[Symbol.toStringTag](){return"ManyKeysMap"}get size(){return super.size}}new dt;function Et(){}function Z(e,...t){}const ft={debug:(...e)=>Z(console.debug,...e),log:(...e)=>Z(console.log,...e),warn:(...e)=>Z(console.warn,...e),error:(...e)=>Z(console.error,...e)};return(async()=>{try{const{main:e,...t}=nt,s=new J("geetest3",t);return await e(s)}catch(e){throw ft.error('The content script "geetest3" crashed on startup!',e),e}})()}();
geetest3;
